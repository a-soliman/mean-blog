<h2 class="page-header">Update Account</h2>

<div class="success-message" *ngIf="successMessage">
	<div class="alert alert-success">{{successMessage}}</div>
</div>

<div class="errors" *ngIf="serverValidationErrors">
	<div *ngFor="let error of serverValidationErrors">
		<div class="alert alert-danger">{{error.msg}}</div>
	</div>
</div>

<form [formGroup]="updateUserForm" (ngSubmit)="update(updateUserForm.value)" enctype="multipart/form-data" >
	<div class="form-group">
		<label for="">Name</label>
		<input formControlName="name" type="text" class="form-control" value="{{user.name}}">

		<div class="alert alert-danger" *ngIf="!updateUserForm.controls['name'].valid && updateUserForm.controls['name'].touched">
			Name is required..
		</div>
	</div>

	<div class="form-group">
		<label for="">Email</label>
		<input formControlName="email" type="email" class="form-control" value="{{user.email}}">

		<div class="alert alert-danger" *ngIf="!updateUserForm.controls['email'].valid && updateUserForm.controls['email'].touched">
			Email is required..
		</div>
	</div>

	<div class="form-group">
		<label for="">Username</label>
		<input formControlName="username" type="text" class="form-control" value="{{user.username}}">

		<div class="alert alert-danger" *ngIf="!updateUserForm.controls['username'].valid && updateUserForm.controls['username'].touched">
			Username is required..
		</div>
	</div>

	<div class="form-group">
		<label for="">Password</label>
		<input formControlName="password" type="password" class="form-control" value="{{user.password}}">

		<div class="alert alert-danger" *ngIf="!updateUserForm.controls['password'].valid && updateUserForm.controls['password'].touched">
			Password is required..
		</div>
	</div>

	<div class="form-group">
		<label for="">ConfirmPassword</label>
		<input formControlName="password2" type="password" class="form-control" value="{{user.value}}">

		<div class="alert alert-danger" *ngIf="!updateUserForm.controls['password2'].valid && updateUserForm.controls['password2'].touched">
			Password is required..
		</div>
	</div>

	<div class="form-group">
		<label for="">Profile Image</label>
		<input name="profileImage" type="file" class="form-control" id="profileImage" >
	</div>

	<input 
		type="submit" 
		class="btn btn-primary" 
		value="Update"
		[disabled]="!updateUserForm.valid"
		>
</form>